// ==UserScript==
// @name         eDDS Design ReWork
// @namespace    http://tampermonkey.net/
// @version      1
// @description  Убираем лишнее в дизайне и округляем элементы
// @author       V
// @match        https://ldz-prof-rpt.na.pg.com:88/Thingworx/Runtime/index.html*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';

    // Основной скрипт для скрытия элементов и добавления стилей
    var elementsInfo = [
        { path: "#root_pagemashupcontainer-6_container-493", styles: { display: 'none' } },
        { path: "#root_pagemashupcontainer-6_container-554", styles: { display: 'none' } },
        { path: "#root_pagemashupcontainer-6_container-24", styles: { display: 'none' } },
        { path: "#root_pagemashupcontainer-6_container-25", styles: { display: 'none' } },

        { path: "#root_pagemashupcontainer-6_mashupcontainer-450_container-59", styles: { display: 'none' } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-450_container-60", styles: { display: 'none' } },

        { path: "#root_pagemashupcontainer-6_container-494", styles: { left: '0px' } },

        { path: "#root_pagemashupcontainer-6_container-22", styles: { width: '150%' } }, // CIL

        { path: "#root_pagemashupcontainer-6_container-23", styles: { width: '39%', height: "19.6%", top: "70px", left: "37%", position: "fixed" } }, // DH

        // For DH
        { path: "#root_pagemashupcontainer-6_mashupcontainer-439_elisaindicatorgroup-11 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-439_elisaindicatorgroup-8 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-439_elisaindicatorgroup-9 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-439_elisaindicatorgroup-12 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },

        // For IE
        { path: "#root_pagemashupcontainer-6_mashupcontainer-499_elisaindicatorgroup-41 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-499_elisaindicatorgroup-47 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-499_elisaindicatorgroup-11 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-499_elisaindicatorgroup-13 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-499_elisaindicatorgroup-12 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },

        // For CL
        { path: "#root_pagemashupcontainer-6_mashupcontainer-521_elisaindicatorgroup-14 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-521_elisaindicatorgroup-15 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },

         // For CIL
        { path: "#root_pagemashupcontainer-6_mashupcontainer-449_elisaindicatorgroup-5 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-449_elisaindicatorgroup-16 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
        { path: "#root_pagemashupcontainer-6_mashupcontainer-449_elisaindicatorgroup-12 > div.elisa-widgets-scroll.widget-elisa-indicator-group-container > div > div.widget-elisa-indicator-group-indicator-content > div > div", styles: { borderRadius: "40px" } },
       ];

    function applyStyles(element, styles) {
        if (element) {
            Object.assign(element.style, styles);
        }
    }

    function handleMutation(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                elementsInfo.forEach(function(info) {
                    var element = document.querySelector(info.path);
                    applyStyles(element, info.styles);
                });
            }
        });
    }

    var observer = new MutationObserver(handleMutation);
    var observerConfig = { childList: true, subtree: true };

    function onPageLoad() {
        elementsInfo.forEach(function(info) {
            var element = document.querySelector(info.path);
            applyStyles(element, info.styles);
        });
        observer.observe(document.body, observerConfig);
    }

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        onPageLoad();
    } else {
        document.addEventListener('DOMContentLoaded', onPageLoad);
    }
})();
